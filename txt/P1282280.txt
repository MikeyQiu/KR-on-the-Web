7
1
0
2
 
r
p
A
 
9
1
 
 
]

V
C
.
s
c
[
 
 
1
v
8
7
6
5
0
.
4
0
7
1
:
v
i
X
r
a

DESIGN OF LOW-COST, COMPACT AND WEATHER-PROOF
WHOLE SKY IMAGERS FOR HIGH-DYNAMIC-RANGE CAPTURES

Soumyabrata Dev,1 Florian M. Savoy,2 Yee Hui Lee,1 Stefan Winkler2

1 School of Electrical and Electronic Engineering, Nanyang Technological University (NTU), Singapore
2 Advanced Digital Sciences Center (ADSC), University of Illinois at Urbana-Champaign, Singapore

ABSTRACT

Ground-based whole sky imagers are popular for monitoring
cloud formations, which is necessary for various applications.
We present two new Wide Angle High-Resolution Sky Imag-
ing System (WAHRSIS) models, which were designed espe-
cially to withstand the hot and humid climate of Singapore.
The ﬁrst uses a fully sealed casing, whose interior tempera-
ture is regulated using a Peltier cooler. The second features a
double roof design with ventilation grids on the sides, allow-
ing the outside air to ﬂow through the device. Measurements
of temperature inside these two devices show their ability to
operate in Singapore weather conditions. Unlike our original
WAHRSIS model, neither uses a mechanical sun blocker to
prevent the direct sunlight from reaching the camera; instead
they rely on high-dynamic-range imaging (HDRI) techniques
to reduce the glare from the sun.

Index Terms— WAHRSIS, ground-based sky camera,

clouds, HDR imaging

1. INTRODUCTION

There is a growing interest in using whole sky imagers for
monitoring clouds. These imagers are used in geoscience and
remote sensing for applications such as solar energy predic-
tion [1], attenuation analysis in satellite-to-ground communi-
cation links [2], estimation of cloud fraction and other mi-
crophysical properties [3]. Such imagers complement the in-
formation obtained from satellite images [4]. They provide a
higher resolution of a speciﬁc area and an upwards pointing
view, which facilitates sky/cloud segmentation [5, 6].

Commercially available sky imagers (TSI-440, TSI-880)
manufactured by Yankee Environmental Systems1 are used
by a number of research groups [7]. However, these devices
are expensive, provide poor image resolution, and offer only
limited control ﬂexibility. This motivated us to build our own
imagers using off-the-shelf components. Other researchers
have done likewise [8, 9].

This research is funded by the Defence Science and Technology Agency

(DSTA), Singapore.

In an earlier publication [10], we proposed the initial
Wide Angle High-Resolution Whole Sky Imaging System
It uses a mechanical sun blocker that
(WAHRSIS) model.
follows the sun to reduce glare in the images.
Its mount-
ing structure and motors reduce the visible sky region quite
signiﬁcantly (cf. Figure 6a). After extensive usage of this
model, two additional operational problems became appar-
ent: (i) Since the motors moving the sun blocker are exposed
to rain, they have started to rust and do not work anymore;
(ii) The enclosure heats up when placed in the sun, and the
temperature inside often exceeds the recommended operating
range of the electronic devices.

In this paper, we introduce two improved WAHRSIS
models that were designed to solve all of the above issues.
We achieve a considerable reduction in size without com-
promising on performance. Instead of using a conventional
sun blocker to reduce sun glare in the image, we employ
High-Dynamic-Range Imaging (HDRI) techniques 2.

The rest of the paper is organized as follows: Section 2
discusses the design of both WAHRSIS models. Temperature
measurements inside the devices are carried out in Section
3. Section 4 presents the high-dynamic-range imaging proce-
dure. Section 5 concludes the paper.

2. DESIGN

A sky imager essentially comprises a DSLR camera with a
ﬁsh-eye lens, which are placed inside a weather-proof casing
with a transparent dome. A single board computer instructs
the camera to take pictures at user-deﬁned intervals, stores
the captured images in an on-board hard drive, and may even
send them to a server.

In this section, we detail the mechanical design of the new
WAHRSIS models. They were designed to withstand the hot
and humid climate of Singapore and run for extended periods
of time without interruption or human intervention.

Two strategies were implemented. The ﬁrst model is a
fully sealed imager with a Peltier cooler to control the inter-
nal temperature. The second model has a double roof, which

Send correspondence to Y.H. Lee, E-mail: eyhlee@ntu.edu.sg.
1 http://www.yesinc.com/

2The source code for the several simulations in this paper is available

online at https://github.com/Soumyabrata/HDRCaptures.

isolates the casing from direct sunlight. It also features ven-
tilating grids, allowing the outside air to ﬂow through the de-
vice. The compact size of both models minimizes the volume
of air to control and also enhances their portability. The trans-
formers and power strip are placed outside the main device in
another polystyrene box as they are less sensitive to high tem-
peratures and also generate heat themselves.

The total component cost of our new WAHRSIS models

is less than US$ 2000 each, as speciﬁed in Table 1.

Sealed model Ventilated model

Items
DSLR camera
Fish-eye lens
Single-board PC
Mechanical items
Peltier cooler
Miscellaneous
Total cost

677
733
68
212
65
140
$1895

677
733
68
221
-
70
$1769

Table 1: Breakdown of the costs of the sealed and ventilated
WAHRSIS models (in US$). The mechanical items consist
of the frame, box, screws etc., whereas miscellaneous items
include the extension power cord, the power adapter etc.

2.1. Sealed WAHRSIS Model

The sealed WAHRSIS model consists of a hermetically-
sealed plastic box with sunlight-reﬂecting paint on it, as
shown in Fig. 1. A thermoelectric Peltier cooler is placed at
the bottom of the casing. When electricity is provided, the
side facing inside the box gets cold while the outside face
gets hot. Fans are placed at both sides to dissipate the cold
or heat produced. The on-board computer controls the cooler
operation using temperature and humidity sensors.

(a)
(b)

(c)

(d)

(e)

Fig. 1: Sealed WAHRSIS design.
(a) DSLR camera, (b)
dome, (c) ODROID board, (d) casing, (e) thermoelectric
cooler with fans.

2.2. Ventilated WAHRSIS Model

The ventilated WAHRSIS model consists of a casing made of
galvanized steel, as shown in Fig. 2. This material reﬂects the
sun light well and prevents rusting and corrosion. Ventilation

grids are placed on each side, allowing ambient air to ﬂow
inside while preventing rainwater from entering. A metallic
sheet is placed a few centimeters on top of the box, along with
the transparent dome for the camera lens. The air in between
acts as insulator, which protects the case from being heated
by direct sunlight.

(a)
(b)

(c)

(d)

Fig. 2: Ventilated WAHRSIS design. (a) Dome, (b) shelter,
(c) air vent cover, (d) casing.

3. TEMPERATURE CONTROL

Singapore has a typical tropical climate, i.e. hot and humid
conditions throughout the year, with average low/high tem-
peratures of 25◦C/33◦C, respectively. A box placed outside
in the sun tends to heat up quickly, so we need to make sure
the maximum operating temperature of the camera, lens, and
the other electronic components of 40◦C is not exceeded.

For the sealed box, we set two distinct thresholds for the
operation of the Peltier cooler: we switch it on when the in-
side temperature reaches 37◦C, and off again when it falls
below 32◦C.

Fig. 3: Temperature recorded over the course of a day inside
both models.

In order to investigate the efﬁcacy of the two designs, both
WAHRSIS models were placed on a rooftop at the Nanyang
Technological University of Singapore. We measured the
temperature inside the devices on a typical day in March
2015 with several hours of sunshine. Fig. 3 shows the results.
In both models, the temperature never exceeds 40◦C. Dur-
ing daytime, the interior temperature remains lower in the
sealed model than in the ventilated model because of its ac-
tive cooling. Temperature variations are also smoother in the
sealed box as a result of the controlled environment. Yet the
grids of the ventilated model are also surprisingly effective at
passive cooling. An important point is that we never noticed
condensation inside the boxes. We thus conclude that both
models can work well in tropical regions.

4. HIGH DYNAMIC RANGE IMAGING

The new WAHRSIS models presented here do not have a
physical sun blocking mechanism.
Instead, we use HDRI
techniques to reduce the over-exposure resulting from sun
glare. This avoids occlusions from the sun-blocker and its
support structure in the captured images (which signiﬁcantly
complicate subsequent computer vision tasks), while at the
same time keeping the number of saturated pixels in the cir-
cumsolar region to a minimum.

The imaging system of our WAHRSIS models consists of
a Canon EOS 600D digital SLR camera with a sensor res-
olution of 5184 × 3456 pixels and a Sigma 4.5mm F2.8 EX
DC circular ﬁsheye lens that captures nearly 180 degrees of
the sky hemisphere. Both imagers use an ODROID-C1 single
board computer; with its 1.5 GHz processor and 1 GB RAM,
this board is powerful enough to perform on-board image pro-
cessing tasks.

too bright, so we choose {−3, −1, +1} exposure value (EV)
offsets for the bracketing. Fig. 4 shows three Low-Dynamic-
Range (LDR) images captured in this fashion.

Fig. 5: Response curve of the HDRI system, computed from
three LDR images with different exposure settings.

Subsequently, we use the algorithm by Debevec and Ma-
lik [11] to create a High-Dynamic-Range (HDR) radiance
map from the three LDR images. As their exposure times
are known, we can compute the camera response curve of the
imaging system using samples obtained from the different
LDR images. This is shown in Fig. 5. The dynamic range of
the resulting HDR radiance map is 15 bits, which represents
a signiﬁcant improvement over the 8-bit LDR images.

(a) −3 EV

(b) −1 EV

(c) +1 EV

(a) With sun blocker

(b) Auto exposure

(c) With HDR imaging

Fig. 4: Low-dynamic-range (LDR) images captured at differ-
ent exposure levels.

The camera offers an automatic exposure bracketing
(AEB) mode, which allows us to capture three (or more)
images in burst mode with different exposure settings. We
put the camera in aperture-priority mode to ﬁx the aperture
at the smallest available setting, and consequently the AEB
function will vary the shutter speed only. For sky images
we observed that the default exposure is usually somewhat

Fig. 6: Effect of sun glare with different strategies. The white
rectangle outlines the circumsolar region, which is enlarged
in the bottom row. Saturated pixels are shown in pink.

In order to visualize the HDR image, we convert the
high-dynamic-range radiance map to an LDR image via tone-
mapping using an adaptive equalization process. Fig. 6c
shows the resulting image, along with those obtained from
a sky imager with a mechanical sun blocker and a normal
single-exposure image. In order to visualize the efﬁcacy of
our proposed approach, we zoom in on the circumsolar region
in each of the three images to look at the amount of detail
visible around the sun. Although the sun-blocker is effective
at reducing sun glare, the occlusion is signiﬁcant. Without
a sun-blocker, the number of saturated pixels is very high in
a normal single-exposure image. Fusing multiple exposures
into an HDR image is indeed a good solution for minimizing
the effects of over-exposure.

5. CONCLUSIONS

We introduced two new models of WAHRSIS, low-cost whole
sky imagers built with off-the-shelf components. One fea-
tures a sealed casing with thermoelectric cooling, while the
other uses a ventilated casing. Measurements and extensive
outdoor testing have proven their ability to maintain temper-
atures at acceptable levels in the Singapore weather over pro-
longed periods.

Unlike our original WAHRSIS version [10] and commer-
cial sky imagers, neither of the two new models uses a me-
chanical sun blocker. Instead, they rely on the fusion of multi-
ple exposures to create a high-dynamic-range image and min-
imize over-saturation of pixels near the circumsolar region.
Table 2 summarizes the main improvements introduced by the
two new models over the ﬁrst.

WAHRSIS Properties

Glare reduction method

Occlusion severity
Weatherability
Portability
Image resolution
Total cost (in US$)

Previous
model

Sun
blocker
Moderate
Limited
Limited
High
$2525

Sealed
model

Ventilated
model

HDRI

Nil
Good
Good
High
$1895

HDRI

Nil
Good
Good
High
$1769

Table 2: Comparison of the different WAHRSIS models.

We are using the captured images for sky/cloud segmen-
tation and classiﬁcation into different cloud types [12], and
we are deploying multiple sky cameras in order to estimate
cloud base height [13]. Our future work includes extending
these methods to HDR images.

6. ACKNOWLEDGMENTS

Darko Jokic (Hochschule für Technik Rapperswil, Switzer-
land) designed and built the sealed WAHRSIS model during

his internship at NTU Singapore. Charles Wong (NTU Sin-
gapore) designed and built the ventilated WAHRSIS model as
part of his ﬁnal year project.

7. REFERENCES

[1] C.-L. Fua and H.-Y. Cheng, “Predicting solar irradiance with
all-sky image features via regression,” Solar Energy, vol. 97,
pp. 537–550, November 2013.

[2] F. Yuan, Y. H. Lee, and Y. S. Meng, “Comparison of cloud
models for propagation studies in Ka-band satellite applica-
in Proc. International Symposium on Antennas and
tions,”
Propagation (ISAP), 2014.

[3] D. D. Turner and R. E. Holz, “Retrieving cloud fraction in the
ﬁeld-of-view of a high-spectral resolution infrared radiometer,”
IEEE Geoscience and Remote Sensing Letters, vol. 2, no. 3, pp.
287–291, July 2005.

[4] A. B. Davis and A. Marshak, “Optical remote sensing of dense
isolated clouds with high-resolution satellite- and ground-
based imagers,” in Proc. IEEE International Geoscience and
Remote Sensing Symposium (IGARSS), 2002.

[5] S. Dev, Y. H. Lee, and S. Winkler, “Systematic study of color
spaces and components for the segmentation of sky/cloud im-
ages,” in Proc. IEEE International Conference on Image Pro-
cessing (ICIP), 2014.

[6] S. Dev, Y. H. Lee, and S. Winkler, “Multi-level semantic label-
ing of sky/cloud images,” in Proc. IEEE International Confer-
ence on Image Processing (ICIP), 2015.

[7] C. N. Long, J. M. Sabburg, J. Calbó, and D. Pages, “Retrieving
cloud characteristics from ground-based daytime color all-sky
images,” Journal of Atmospheric and Oceanic Technology, vol.
23, no. 5, pp. 633–652, 2006.

[8] J. Sabburg and J. Wong, “Evaluation of a ground-based sky
camera system for use in surface irradiance measurement,”
Journal of Atmospheric and Oceanic Technology, vol. 16, no.
6, pp. 752–759, June 1999.

[9] J. E. Shields, M. E. Karr, R. W. Johnson, and A. R. Burden,
“Day/night whole sky imagers for 24-h cloud and sky assess-
ment: History and overview,” Applied Optics, vol. 52, no. 8,
pp. 1605–1616, March 2013.

[10] S. Dev, F. Savoy, Y. H. Lee, and S. Winkler, “WAHRSIS: A
low-cost, high-resolution whole sky imager with near-infrared
capabilities,” in Proc. IS&T/SPIE Infrared Imaging Systems,
2014.

[11] P. E. Debevec and J. Malik, “Recovering high dynamic range
in Proc. 24th Annual
radiance maps from photographs,”
Conference on Computer Graphics and Interactive Techniques
(ACM SIGGRAPH), 1997.

[12] S. Dev, Y. H. Lee, and S. Winkler, “Categorization of cloud
image patches using an improved texton-based approach,” in
Proc. IEEE International Conference on Image Processing
(ICIP), 2015.

[13] F. M. Savoy, J. C. Lemaitre, S. Dev, Y. H. Lee, and S. Winkler,
“Cloud base height estimation using high-resolution whole sky
imagers,” in Proc. IEEE International Geoscience and Remote
Sensing Symposium (IGARSS), 2015.

7
1
0
2
 
r
p
A
 
9
1
 
 
]

V
C
.
s
c
[
 
 
1
v
8
7
6
5
0
.
4
0
7
1
:
v
i
X
r
a

DESIGN OF LOW-COST, COMPACT AND WEATHER-PROOF
WHOLE SKY IMAGERS FOR HIGH-DYNAMIC-RANGE CAPTURES

Soumyabrata Dev,1 Florian M. Savoy,2 Yee Hui Lee,1 Stefan Winkler2

1 School of Electrical and Electronic Engineering, Nanyang Technological University (NTU), Singapore
2 Advanced Digital Sciences Center (ADSC), University of Illinois at Urbana-Champaign, Singapore

ABSTRACT

Ground-based whole sky imagers are popular for monitoring
cloud formations, which is necessary for various applications.
We present two new Wide Angle High-Resolution Sky Imag-
ing System (WAHRSIS) models, which were designed espe-
cially to withstand the hot and humid climate of Singapore.
The ﬁrst uses a fully sealed casing, whose interior tempera-
ture is regulated using a Peltier cooler. The second features a
double roof design with ventilation grids on the sides, allow-
ing the outside air to ﬂow through the device. Measurements
of temperature inside these two devices show their ability to
operate in Singapore weather conditions. Unlike our original
WAHRSIS model, neither uses a mechanical sun blocker to
prevent the direct sunlight from reaching the camera; instead
they rely on high-dynamic-range imaging (HDRI) techniques
to reduce the glare from the sun.

Index Terms— WAHRSIS, ground-based sky camera,

clouds, HDR imaging

1. INTRODUCTION

There is a growing interest in using whole sky imagers for
monitoring clouds. These imagers are used in geoscience and
remote sensing for applications such as solar energy predic-
tion [1], attenuation analysis in satellite-to-ground communi-
cation links [2], estimation of cloud fraction and other mi-
crophysical properties [3]. Such imagers complement the in-
formation obtained from satellite images [4]. They provide a
higher resolution of a speciﬁc area and an upwards pointing
view, which facilitates sky/cloud segmentation [5, 6].

Commercially available sky imagers (TSI-440, TSI-880)
manufactured by Yankee Environmental Systems1 are used
by a number of research groups [7]. However, these devices
are expensive, provide poor image resolution, and offer only
limited control ﬂexibility. This motivated us to build our own
imagers using off-the-shelf components. Other researchers
have done likewise [8, 9].

This research is funded by the Defence Science and Technology Agency

(DSTA), Singapore.

In an earlier publication [10], we proposed the initial
Wide Angle High-Resolution Whole Sky Imaging System
It uses a mechanical sun blocker that
(WAHRSIS) model.
follows the sun to reduce glare in the images.
Its mount-
ing structure and motors reduce the visible sky region quite
signiﬁcantly (cf. Figure 6a). After extensive usage of this
model, two additional operational problems became appar-
ent: (i) Since the motors moving the sun blocker are exposed
to rain, they have started to rust and do not work anymore;
(ii) The enclosure heats up when placed in the sun, and the
temperature inside often exceeds the recommended operating
range of the electronic devices.

In this paper, we introduce two improved WAHRSIS
models that were designed to solve all of the above issues.
We achieve a considerable reduction in size without com-
promising on performance. Instead of using a conventional
sun blocker to reduce sun glare in the image, we employ
High-Dynamic-Range Imaging (HDRI) techniques 2.

The rest of the paper is organized as follows: Section 2
discusses the design of both WAHRSIS models. Temperature
measurements inside the devices are carried out in Section
3. Section 4 presents the high-dynamic-range imaging proce-
dure. Section 5 concludes the paper.

2. DESIGN

A sky imager essentially comprises a DSLR camera with a
ﬁsh-eye lens, which are placed inside a weather-proof casing
with a transparent dome. A single board computer instructs
the camera to take pictures at user-deﬁned intervals, stores
the captured images in an on-board hard drive, and may even
send them to a server.

In this section, we detail the mechanical design of the new
WAHRSIS models. They were designed to withstand the hot
and humid climate of Singapore and run for extended periods
of time without interruption or human intervention.

Two strategies were implemented. The ﬁrst model is a
fully sealed imager with a Peltier cooler to control the inter-
nal temperature. The second model has a double roof, which

Send correspondence to Y.H. Lee, E-mail: eyhlee@ntu.edu.sg.
1 http://www.yesinc.com/

2The source code for the several simulations in this paper is available

online at https://github.com/Soumyabrata/HDRCaptures.

isolates the casing from direct sunlight. It also features ven-
tilating grids, allowing the outside air to ﬂow through the de-
vice. The compact size of both models minimizes the volume
of air to control and also enhances their portability. The trans-
formers and power strip are placed outside the main device in
another polystyrene box as they are less sensitive to high tem-
peratures and also generate heat themselves.

The total component cost of our new WAHRSIS models

is less than US$ 2000 each, as speciﬁed in Table 1.

Sealed model Ventilated model

Items
DSLR camera
Fish-eye lens
Single-board PC
Mechanical items
Peltier cooler
Miscellaneous
Total cost

677
733
68
212
65
140
$1895

677
733
68
221
-
70
$1769

Table 1: Breakdown of the costs of the sealed and ventilated
WAHRSIS models (in US$). The mechanical items consist
of the frame, box, screws etc., whereas miscellaneous items
include the extension power cord, the power adapter etc.

2.1. Sealed WAHRSIS Model

The sealed WAHRSIS model consists of a hermetically-
sealed plastic box with sunlight-reﬂecting paint on it, as
shown in Fig. 1. A thermoelectric Peltier cooler is placed at
the bottom of the casing. When electricity is provided, the
side facing inside the box gets cold while the outside face
gets hot. Fans are placed at both sides to dissipate the cold
or heat produced. The on-board computer controls the cooler
operation using temperature and humidity sensors.

(a)
(b)

(c)

(d)

(e)

Fig. 1: Sealed WAHRSIS design.
(a) DSLR camera, (b)
dome, (c) ODROID board, (d) casing, (e) thermoelectric
cooler with fans.

2.2. Ventilated WAHRSIS Model

The ventilated WAHRSIS model consists of a casing made of
galvanized steel, as shown in Fig. 2. This material reﬂects the
sun light well and prevents rusting and corrosion. Ventilation

grids are placed on each side, allowing ambient air to ﬂow
inside while preventing rainwater from entering. A metallic
sheet is placed a few centimeters on top of the box, along with
the transparent dome for the camera lens. The air in between
acts as insulator, which protects the case from being heated
by direct sunlight.

(a)
(b)

(c)

(d)

Fig. 2: Ventilated WAHRSIS design. (a) Dome, (b) shelter,
(c) air vent cover, (d) casing.

3. TEMPERATURE CONTROL

Singapore has a typical tropical climate, i.e. hot and humid
conditions throughout the year, with average low/high tem-
peratures of 25◦C/33◦C, respectively. A box placed outside
in the sun tends to heat up quickly, so we need to make sure
the maximum operating temperature of the camera, lens, and
the other electronic components of 40◦C is not exceeded.

For the sealed box, we set two distinct thresholds for the
operation of the Peltier cooler: we switch it on when the in-
side temperature reaches 37◦C, and off again when it falls
below 32◦C.

Fig. 3: Temperature recorded over the course of a day inside
both models.

In order to investigate the efﬁcacy of the two designs, both
WAHRSIS models were placed on a rooftop at the Nanyang
Technological University of Singapore. We measured the
temperature inside the devices on a typical day in March
2015 with several hours of sunshine. Fig. 3 shows the results.
In both models, the temperature never exceeds 40◦C. Dur-
ing daytime, the interior temperature remains lower in the
sealed model than in the ventilated model because of its ac-
tive cooling. Temperature variations are also smoother in the
sealed box as a result of the controlled environment. Yet the
grids of the ventilated model are also surprisingly effective at
passive cooling. An important point is that we never noticed
condensation inside the boxes. We thus conclude that both
models can work well in tropical regions.

4. HIGH DYNAMIC RANGE IMAGING

The new WAHRSIS models presented here do not have a
physical sun blocking mechanism.
Instead, we use HDRI
techniques to reduce the over-exposure resulting from sun
glare. This avoids occlusions from the sun-blocker and its
support structure in the captured images (which signiﬁcantly
complicate subsequent computer vision tasks), while at the
same time keeping the number of saturated pixels in the cir-
cumsolar region to a minimum.

The imaging system of our WAHRSIS models consists of
a Canon EOS 600D digital SLR camera with a sensor res-
olution of 5184 × 3456 pixels and a Sigma 4.5mm F2.8 EX
DC circular ﬁsheye lens that captures nearly 180 degrees of
the sky hemisphere. Both imagers use an ODROID-C1 single
board computer; with its 1.5 GHz processor and 1 GB RAM,
this board is powerful enough to perform on-board image pro-
cessing tasks.

too bright, so we choose {−3, −1, +1} exposure value (EV)
offsets for the bracketing. Fig. 4 shows three Low-Dynamic-
Range (LDR) images captured in this fashion.

Fig. 5: Response curve of the HDRI system, computed from
three LDR images with different exposure settings.

Subsequently, we use the algorithm by Debevec and Ma-
lik [11] to create a High-Dynamic-Range (HDR) radiance
map from the three LDR images. As their exposure times
are known, we can compute the camera response curve of the
imaging system using samples obtained from the different
LDR images. This is shown in Fig. 5. The dynamic range of
the resulting HDR radiance map is 15 bits, which represents
a signiﬁcant improvement over the 8-bit LDR images.

(a) −3 EV

(b) −1 EV

(c) +1 EV

(a) With sun blocker

(b) Auto exposure

(c) With HDR imaging

Fig. 4: Low-dynamic-range (LDR) images captured at differ-
ent exposure levels.

The camera offers an automatic exposure bracketing
(AEB) mode, which allows us to capture three (or more)
images in burst mode with different exposure settings. We
put the camera in aperture-priority mode to ﬁx the aperture
at the smallest available setting, and consequently the AEB
function will vary the shutter speed only. For sky images
we observed that the default exposure is usually somewhat

Fig. 6: Effect of sun glare with different strategies. The white
rectangle outlines the circumsolar region, which is enlarged
in the bottom row. Saturated pixels are shown in pink.

In order to visualize the HDR image, we convert the
high-dynamic-range radiance map to an LDR image via tone-
mapping using an adaptive equalization process. Fig. 6c
shows the resulting image, along with those obtained from
a sky imager with a mechanical sun blocker and a normal
single-exposure image. In order to visualize the efﬁcacy of
our proposed approach, we zoom in on the circumsolar region
in each of the three images to look at the amount of detail
visible around the sun. Although the sun-blocker is effective
at reducing sun glare, the occlusion is signiﬁcant. Without
a sun-blocker, the number of saturated pixels is very high in
a normal single-exposure image. Fusing multiple exposures
into an HDR image is indeed a good solution for minimizing
the effects of over-exposure.

5. CONCLUSIONS

We introduced two new models of WAHRSIS, low-cost whole
sky imagers built with off-the-shelf components. One fea-
tures a sealed casing with thermoelectric cooling, while the
other uses a ventilated casing. Measurements and extensive
outdoor testing have proven their ability to maintain temper-
atures at acceptable levels in the Singapore weather over pro-
longed periods.

Unlike our original WAHRSIS version [10] and commer-
cial sky imagers, neither of the two new models uses a me-
chanical sun blocker. Instead, they rely on the fusion of multi-
ple exposures to create a high-dynamic-range image and min-
imize over-saturation of pixels near the circumsolar region.
Table 2 summarizes the main improvements introduced by the
two new models over the ﬁrst.

WAHRSIS Properties

Glare reduction method

Occlusion severity
Weatherability
Portability
Image resolution
Total cost (in US$)

Previous
model

Sun
blocker
Moderate
Limited
Limited
High
$2525

Sealed
model

Ventilated
model

HDRI

Nil
Good
Good
High
$1895

HDRI

Nil
Good
Good
High
$1769

Table 2: Comparison of the different WAHRSIS models.

We are using the captured images for sky/cloud segmen-
tation and classiﬁcation into different cloud types [12], and
we are deploying multiple sky cameras in order to estimate
cloud base height [13]. Our future work includes extending
these methods to HDR images.

6. ACKNOWLEDGMENTS

Darko Jokic (Hochschule für Technik Rapperswil, Switzer-
land) designed and built the sealed WAHRSIS model during

his internship at NTU Singapore. Charles Wong (NTU Sin-
gapore) designed and built the ventilated WAHRSIS model as
part of his ﬁnal year project.

7. REFERENCES

[1] C.-L. Fua and H.-Y. Cheng, “Predicting solar irradiance with
all-sky image features via regression,” Solar Energy, vol. 97,
pp. 537–550, November 2013.

[2] F. Yuan, Y. H. Lee, and Y. S. Meng, “Comparison of cloud
models for propagation studies in Ka-band satellite applica-
in Proc. International Symposium on Antennas and
tions,”
Propagation (ISAP), 2014.

[3] D. D. Turner and R. E. Holz, “Retrieving cloud fraction in the
ﬁeld-of-view of a high-spectral resolution infrared radiometer,”
IEEE Geoscience and Remote Sensing Letters, vol. 2, no. 3, pp.
287–291, July 2005.

[4] A. B. Davis and A. Marshak, “Optical remote sensing of dense
isolated clouds with high-resolution satellite- and ground-
based imagers,” in Proc. IEEE International Geoscience and
Remote Sensing Symposium (IGARSS), 2002.

[5] S. Dev, Y. H. Lee, and S. Winkler, “Systematic study of color
spaces and components for the segmentation of sky/cloud im-
ages,” in Proc. IEEE International Conference on Image Pro-
cessing (ICIP), 2014.

[6] S. Dev, Y. H. Lee, and S. Winkler, “Multi-level semantic label-
ing of sky/cloud images,” in Proc. IEEE International Confer-
ence on Image Processing (ICIP), 2015.

[7] C. N. Long, J. M. Sabburg, J. Calbó, and D. Pages, “Retrieving
cloud characteristics from ground-based daytime color all-sky
images,” Journal of Atmospheric and Oceanic Technology, vol.
23, no. 5, pp. 633–652, 2006.

[8] J. Sabburg and J. Wong, “Evaluation of a ground-based sky
camera system for use in surface irradiance measurement,”
Journal of Atmospheric and Oceanic Technology, vol. 16, no.
6, pp. 752–759, June 1999.

[9] J. E. Shields, M. E. Karr, R. W. Johnson, and A. R. Burden,
“Day/night whole sky imagers for 24-h cloud and sky assess-
ment: History and overview,” Applied Optics, vol. 52, no. 8,
pp. 1605–1616, March 2013.

[10] S. Dev, F. Savoy, Y. H. Lee, and S. Winkler, “WAHRSIS: A
low-cost, high-resolution whole sky imager with near-infrared
capabilities,” in Proc. IS&T/SPIE Infrared Imaging Systems,
2014.

[11] P. E. Debevec and J. Malik, “Recovering high dynamic range
in Proc. 24th Annual
radiance maps from photographs,”
Conference on Computer Graphics and Interactive Techniques
(ACM SIGGRAPH), 1997.

[12] S. Dev, Y. H. Lee, and S. Winkler, “Categorization of cloud
image patches using an improved texton-based approach,” in
Proc. IEEE International Conference on Image Processing
(ICIP), 2015.

[13] F. M. Savoy, J. C. Lemaitre, S. Dev, Y. H. Lee, and S. Winkler,
“Cloud base height estimation using high-resolution whole sky
imagers,” in Proc. IEEE International Geoscience and Remote
Sensing Symposium (IGARSS), 2015.

7
1
0
2
 
r
p
A
 
9
1
 
 
]

V
C
.
s
c
[
 
 
1
v
8
7
6
5
0
.
4
0
7
1
:
v
i
X
r
a

DESIGN OF LOW-COST, COMPACT AND WEATHER-PROOF
WHOLE SKY IMAGERS FOR HIGH-DYNAMIC-RANGE CAPTURES

Soumyabrata Dev,1 Florian M. Savoy,2 Yee Hui Lee,1 Stefan Winkler2

1 School of Electrical and Electronic Engineering, Nanyang Technological University (NTU), Singapore
2 Advanced Digital Sciences Center (ADSC), University of Illinois at Urbana-Champaign, Singapore

ABSTRACT

Ground-based whole sky imagers are popular for monitoring
cloud formations, which is necessary for various applications.
We present two new Wide Angle High-Resolution Sky Imag-
ing System (WAHRSIS) models, which were designed espe-
cially to withstand the hot and humid climate of Singapore.
The ﬁrst uses a fully sealed casing, whose interior tempera-
ture is regulated using a Peltier cooler. The second features a
double roof design with ventilation grids on the sides, allow-
ing the outside air to ﬂow through the device. Measurements
of temperature inside these two devices show their ability to
operate in Singapore weather conditions. Unlike our original
WAHRSIS model, neither uses a mechanical sun blocker to
prevent the direct sunlight from reaching the camera; instead
they rely on high-dynamic-range imaging (HDRI) techniques
to reduce the glare from the sun.

Index Terms— WAHRSIS, ground-based sky camera,

clouds, HDR imaging

1. INTRODUCTION

There is a growing interest in using whole sky imagers for
monitoring clouds. These imagers are used in geoscience and
remote sensing for applications such as solar energy predic-
tion [1], attenuation analysis in satellite-to-ground communi-
cation links [2], estimation of cloud fraction and other mi-
crophysical properties [3]. Such imagers complement the in-
formation obtained from satellite images [4]. They provide a
higher resolution of a speciﬁc area and an upwards pointing
view, which facilitates sky/cloud segmentation [5, 6].

Commercially available sky imagers (TSI-440, TSI-880)
manufactured by Yankee Environmental Systems1 are used
by a number of research groups [7]. However, these devices
are expensive, provide poor image resolution, and offer only
limited control ﬂexibility. This motivated us to build our own
imagers using off-the-shelf components. Other researchers
have done likewise [8, 9].

This research is funded by the Defence Science and Technology Agency

(DSTA), Singapore.

In an earlier publication [10], we proposed the initial
Wide Angle High-Resolution Whole Sky Imaging System
It uses a mechanical sun blocker that
(WAHRSIS) model.
follows the sun to reduce glare in the images.
Its mount-
ing structure and motors reduce the visible sky region quite
signiﬁcantly (cf. Figure 6a). After extensive usage of this
model, two additional operational problems became appar-
ent: (i) Since the motors moving the sun blocker are exposed
to rain, they have started to rust and do not work anymore;
(ii) The enclosure heats up when placed in the sun, and the
temperature inside often exceeds the recommended operating
range of the electronic devices.

In this paper, we introduce two improved WAHRSIS
models that were designed to solve all of the above issues.
We achieve a considerable reduction in size without com-
promising on performance. Instead of using a conventional
sun blocker to reduce sun glare in the image, we employ
High-Dynamic-Range Imaging (HDRI) techniques 2.

The rest of the paper is organized as follows: Section 2
discusses the design of both WAHRSIS models. Temperature
measurements inside the devices are carried out in Section
3. Section 4 presents the high-dynamic-range imaging proce-
dure. Section 5 concludes the paper.

2. DESIGN

A sky imager essentially comprises a DSLR camera with a
ﬁsh-eye lens, which are placed inside a weather-proof casing
with a transparent dome. A single board computer instructs
the camera to take pictures at user-deﬁned intervals, stores
the captured images in an on-board hard drive, and may even
send them to a server.

In this section, we detail the mechanical design of the new
WAHRSIS models. They were designed to withstand the hot
and humid climate of Singapore and run for extended periods
of time without interruption or human intervention.

Two strategies were implemented. The ﬁrst model is a
fully sealed imager with a Peltier cooler to control the inter-
nal temperature. The second model has a double roof, which

Send correspondence to Y.H. Lee, E-mail: eyhlee@ntu.edu.sg.
1 http://www.yesinc.com/

2The source code for the several simulations in this paper is available

online at https://github.com/Soumyabrata/HDRCaptures.

isolates the casing from direct sunlight. It also features ven-
tilating grids, allowing the outside air to ﬂow through the de-
vice. The compact size of both models minimizes the volume
of air to control and also enhances their portability. The trans-
formers and power strip are placed outside the main device in
another polystyrene box as they are less sensitive to high tem-
peratures and also generate heat themselves.

The total component cost of our new WAHRSIS models

is less than US$ 2000 each, as speciﬁed in Table 1.

Sealed model Ventilated model

Items
DSLR camera
Fish-eye lens
Single-board PC
Mechanical items
Peltier cooler
Miscellaneous
Total cost

677
733
68
212
65
140
$1895

677
733
68
221
-
70
$1769

Table 1: Breakdown of the costs of the sealed and ventilated
WAHRSIS models (in US$). The mechanical items consist
of the frame, box, screws etc., whereas miscellaneous items
include the extension power cord, the power adapter etc.

2.1. Sealed WAHRSIS Model

The sealed WAHRSIS model consists of a hermetically-
sealed plastic box with sunlight-reﬂecting paint on it, as
shown in Fig. 1. A thermoelectric Peltier cooler is placed at
the bottom of the casing. When electricity is provided, the
side facing inside the box gets cold while the outside face
gets hot. Fans are placed at both sides to dissipate the cold
or heat produced. The on-board computer controls the cooler
operation using temperature and humidity sensors.

(a)
(b)

(c)

(d)

(e)

Fig. 1: Sealed WAHRSIS design.
(a) DSLR camera, (b)
dome, (c) ODROID board, (d) casing, (e) thermoelectric
cooler with fans.

2.2. Ventilated WAHRSIS Model

The ventilated WAHRSIS model consists of a casing made of
galvanized steel, as shown in Fig. 2. This material reﬂects the
sun light well and prevents rusting and corrosion. Ventilation

grids are placed on each side, allowing ambient air to ﬂow
inside while preventing rainwater from entering. A metallic
sheet is placed a few centimeters on top of the box, along with
the transparent dome for the camera lens. The air in between
acts as insulator, which protects the case from being heated
by direct sunlight.

(a)
(b)

(c)

(d)

Fig. 2: Ventilated WAHRSIS design. (a) Dome, (b) shelter,
(c) air vent cover, (d) casing.

3. TEMPERATURE CONTROL

Singapore has a typical tropical climate, i.e. hot and humid
conditions throughout the year, with average low/high tem-
peratures of 25◦C/33◦C, respectively. A box placed outside
in the sun tends to heat up quickly, so we need to make sure
the maximum operating temperature of the camera, lens, and
the other electronic components of 40◦C is not exceeded.

For the sealed box, we set two distinct thresholds for the
operation of the Peltier cooler: we switch it on when the in-
side temperature reaches 37◦C, and off again when it falls
below 32◦C.

Fig. 3: Temperature recorded over the course of a day inside
both models.

In order to investigate the efﬁcacy of the two designs, both
WAHRSIS models were placed on a rooftop at the Nanyang
Technological University of Singapore. We measured the
temperature inside the devices on a typical day in March
2015 with several hours of sunshine. Fig. 3 shows the results.
In both models, the temperature never exceeds 40◦C. Dur-
ing daytime, the interior temperature remains lower in the
sealed model than in the ventilated model because of its ac-
tive cooling. Temperature variations are also smoother in the
sealed box as a result of the controlled environment. Yet the
grids of the ventilated model are also surprisingly effective at
passive cooling. An important point is that we never noticed
condensation inside the boxes. We thus conclude that both
models can work well in tropical regions.

4. HIGH DYNAMIC RANGE IMAGING

The new WAHRSIS models presented here do not have a
physical sun blocking mechanism.
Instead, we use HDRI
techniques to reduce the over-exposure resulting from sun
glare. This avoids occlusions from the sun-blocker and its
support structure in the captured images (which signiﬁcantly
complicate subsequent computer vision tasks), while at the
same time keeping the number of saturated pixels in the cir-
cumsolar region to a minimum.

The imaging system of our WAHRSIS models consists of
a Canon EOS 600D digital SLR camera with a sensor res-
olution of 5184 × 3456 pixels and a Sigma 4.5mm F2.8 EX
DC circular ﬁsheye lens that captures nearly 180 degrees of
the sky hemisphere. Both imagers use an ODROID-C1 single
board computer; with its 1.5 GHz processor and 1 GB RAM,
this board is powerful enough to perform on-board image pro-
cessing tasks.

too bright, so we choose {−3, −1, +1} exposure value (EV)
offsets for the bracketing. Fig. 4 shows three Low-Dynamic-
Range (LDR) images captured in this fashion.

Fig. 5: Response curve of the HDRI system, computed from
three LDR images with different exposure settings.

Subsequently, we use the algorithm by Debevec and Ma-
lik [11] to create a High-Dynamic-Range (HDR) radiance
map from the three LDR images. As their exposure times
are known, we can compute the camera response curve of the
imaging system using samples obtained from the different
LDR images. This is shown in Fig. 5. The dynamic range of
the resulting HDR radiance map is 15 bits, which represents
a signiﬁcant improvement over the 8-bit LDR images.

(a) −3 EV

(b) −1 EV

(c) +1 EV

(a) With sun blocker

(b) Auto exposure

(c) With HDR imaging

Fig. 4: Low-dynamic-range (LDR) images captured at differ-
ent exposure levels.

The camera offers an automatic exposure bracketing
(AEB) mode, which allows us to capture three (or more)
images in burst mode with different exposure settings. We
put the camera in aperture-priority mode to ﬁx the aperture
at the smallest available setting, and consequently the AEB
function will vary the shutter speed only. For sky images
we observed that the default exposure is usually somewhat

Fig. 6: Effect of sun glare with different strategies. The white
rectangle outlines the circumsolar region, which is enlarged
in the bottom row. Saturated pixels are shown in pink.

In order to visualize the HDR image, we convert the
high-dynamic-range radiance map to an LDR image via tone-
mapping using an adaptive equalization process. Fig. 6c
shows the resulting image, along with those obtained from
a sky imager with a mechanical sun blocker and a normal
single-exposure image. In order to visualize the efﬁcacy of
our proposed approach, we zoom in on the circumsolar region
in each of the three images to look at the amount of detail
visible around the sun. Although the sun-blocker is effective
at reducing sun glare, the occlusion is signiﬁcant. Without
a sun-blocker, the number of saturated pixels is very high in
a normal single-exposure image. Fusing multiple exposures
into an HDR image is indeed a good solution for minimizing
the effects of over-exposure.

5. CONCLUSIONS

We introduced two new models of WAHRSIS, low-cost whole
sky imagers built with off-the-shelf components. One fea-
tures a sealed casing with thermoelectric cooling, while the
other uses a ventilated casing. Measurements and extensive
outdoor testing have proven their ability to maintain temper-
atures at acceptable levels in the Singapore weather over pro-
longed periods.

Unlike our original WAHRSIS version [10] and commer-
cial sky imagers, neither of the two new models uses a me-
chanical sun blocker. Instead, they rely on the fusion of multi-
ple exposures to create a high-dynamic-range image and min-
imize over-saturation of pixels near the circumsolar region.
Table 2 summarizes the main improvements introduced by the
two new models over the ﬁrst.

WAHRSIS Properties

Glare reduction method

Occlusion severity
Weatherability
Portability
Image resolution
Total cost (in US$)

Previous
model

Sun
blocker
Moderate
Limited
Limited
High
$2525

Sealed
model

Ventilated
model

HDRI

Nil
Good
Good
High
$1895

HDRI

Nil
Good
Good
High
$1769

Table 2: Comparison of the different WAHRSIS models.

We are using the captured images for sky/cloud segmen-
tation and classiﬁcation into different cloud types [12], and
we are deploying multiple sky cameras in order to estimate
cloud base height [13]. Our future work includes extending
these methods to HDR images.

6. ACKNOWLEDGMENTS

Darko Jokic (Hochschule für Technik Rapperswil, Switzer-
land) designed and built the sealed WAHRSIS model during

his internship at NTU Singapore. Charles Wong (NTU Sin-
gapore) designed and built the ventilated WAHRSIS model as
part of his ﬁnal year project.

7. REFERENCES

[1] C.-L. Fua and H.-Y. Cheng, “Predicting solar irradiance with
all-sky image features via regression,” Solar Energy, vol. 97,
pp. 537–550, November 2013.

[2] F. Yuan, Y. H. Lee, and Y. S. Meng, “Comparison of cloud
models for propagation studies in Ka-band satellite applica-
in Proc. International Symposium on Antennas and
tions,”
Propagation (ISAP), 2014.

[3] D. D. Turner and R. E. Holz, “Retrieving cloud fraction in the
ﬁeld-of-view of a high-spectral resolution infrared radiometer,”
IEEE Geoscience and Remote Sensing Letters, vol. 2, no. 3, pp.
287–291, July 2005.

[4] A. B. Davis and A. Marshak, “Optical remote sensing of dense
isolated clouds with high-resolution satellite- and ground-
based imagers,” in Proc. IEEE International Geoscience and
Remote Sensing Symposium (IGARSS), 2002.

[5] S. Dev, Y. H. Lee, and S. Winkler, “Systematic study of color
spaces and components for the segmentation of sky/cloud im-
ages,” in Proc. IEEE International Conference on Image Pro-
cessing (ICIP), 2014.

[6] S. Dev, Y. H. Lee, and S. Winkler, “Multi-level semantic label-
ing of sky/cloud images,” in Proc. IEEE International Confer-
ence on Image Processing (ICIP), 2015.

[7] C. N. Long, J. M. Sabburg, J. Calbó, and D. Pages, “Retrieving
cloud characteristics from ground-based daytime color all-sky
images,” Journal of Atmospheric and Oceanic Technology, vol.
23, no. 5, pp. 633–652, 2006.

[8] J. Sabburg and J. Wong, “Evaluation of a ground-based sky
camera system for use in surface irradiance measurement,”
Journal of Atmospheric and Oceanic Technology, vol. 16, no.
6, pp. 752–759, June 1999.

[9] J. E. Shields, M. E. Karr, R. W. Johnson, and A. R. Burden,
“Day/night whole sky imagers for 24-h cloud and sky assess-
ment: History and overview,” Applied Optics, vol. 52, no. 8,
pp. 1605–1616, March 2013.

[10] S. Dev, F. Savoy, Y. H. Lee, and S. Winkler, “WAHRSIS: A
low-cost, high-resolution whole sky imager with near-infrared
capabilities,” in Proc. IS&T/SPIE Infrared Imaging Systems,
2014.

[11] P. E. Debevec and J. Malik, “Recovering high dynamic range
in Proc. 24th Annual
radiance maps from photographs,”
Conference on Computer Graphics and Interactive Techniques
(ACM SIGGRAPH), 1997.

[12] S. Dev, Y. H. Lee, and S. Winkler, “Categorization of cloud
image patches using an improved texton-based approach,” in
Proc. IEEE International Conference on Image Processing
(ICIP), 2015.

[13] F. M. Savoy, J. C. Lemaitre, S. Dev, Y. H. Lee, and S. Winkler,
“Cloud base height estimation using high-resolution whole sky
imagers,” in Proc. IEEE International Geoscience and Remote
Sensing Symposium (IGARSS), 2015.

7
1
0
2
 
r
p
A
 
9
1
 
 
]

V
C
.
s
c
[
 
 
1
v
8
7
6
5
0
.
4
0
7
1
:
v
i
X
r
a

DESIGN OF LOW-COST, COMPACT AND WEATHER-PROOF
WHOLE SKY IMAGERS FOR HIGH-DYNAMIC-RANGE CAPTURES

Soumyabrata Dev,1 Florian M. Savoy,2 Yee Hui Lee,1 Stefan Winkler2

1 School of Electrical and Electronic Engineering, Nanyang Technological University (NTU), Singapore
2 Advanced Digital Sciences Center (ADSC), University of Illinois at Urbana-Champaign, Singapore

ABSTRACT

Ground-based whole sky imagers are popular for monitoring
cloud formations, which is necessary for various applications.
We present two new Wide Angle High-Resolution Sky Imag-
ing System (WAHRSIS) models, which were designed espe-
cially to withstand the hot and humid climate of Singapore.
The ﬁrst uses a fully sealed casing, whose interior tempera-
ture is regulated using a Peltier cooler. The second features a
double roof design with ventilation grids on the sides, allow-
ing the outside air to ﬂow through the device. Measurements
of temperature inside these two devices show their ability to
operate in Singapore weather conditions. Unlike our original
WAHRSIS model, neither uses a mechanical sun blocker to
prevent the direct sunlight from reaching the camera; instead
they rely on high-dynamic-range imaging (HDRI) techniques
to reduce the glare from the sun.

Index Terms— WAHRSIS, ground-based sky camera,

clouds, HDR imaging

1. INTRODUCTION

There is a growing interest in using whole sky imagers for
monitoring clouds. These imagers are used in geoscience and
remote sensing for applications such as solar energy predic-
tion [1], attenuation analysis in satellite-to-ground communi-
cation links [2], estimation of cloud fraction and other mi-
crophysical properties [3]. Such imagers complement the in-
formation obtained from satellite images [4]. They provide a
higher resolution of a speciﬁc area and an upwards pointing
view, which facilitates sky/cloud segmentation [5, 6].

Commercially available sky imagers (TSI-440, TSI-880)
manufactured by Yankee Environmental Systems1 are used
by a number of research groups [7]. However, these devices
are expensive, provide poor image resolution, and offer only
limited control ﬂexibility. This motivated us to build our own
imagers using off-the-shelf components. Other researchers
have done likewise [8, 9].

This research is funded by the Defence Science and Technology Agency

(DSTA), Singapore.

In an earlier publication [10], we proposed the initial
Wide Angle High-Resolution Whole Sky Imaging System
It uses a mechanical sun blocker that
(WAHRSIS) model.
follows the sun to reduce glare in the images.
Its mount-
ing structure and motors reduce the visible sky region quite
signiﬁcantly (cf. Figure 6a). After extensive usage of this
model, two additional operational problems became appar-
ent: (i) Since the motors moving the sun blocker are exposed
to rain, they have started to rust and do not work anymore;
(ii) The enclosure heats up when placed in the sun, and the
temperature inside often exceeds the recommended operating
range of the electronic devices.

In this paper, we introduce two improved WAHRSIS
models that were designed to solve all of the above issues.
We achieve a considerable reduction in size without com-
promising on performance. Instead of using a conventional
sun blocker to reduce sun glare in the image, we employ
High-Dynamic-Range Imaging (HDRI) techniques 2.

The rest of the paper is organized as follows: Section 2
discusses the design of both WAHRSIS models. Temperature
measurements inside the devices are carried out in Section
3. Section 4 presents the high-dynamic-range imaging proce-
dure. Section 5 concludes the paper.

2. DESIGN

A sky imager essentially comprises a DSLR camera with a
ﬁsh-eye lens, which are placed inside a weather-proof casing
with a transparent dome. A single board computer instructs
the camera to take pictures at user-deﬁned intervals, stores
the captured images in an on-board hard drive, and may even
send them to a server.

In this section, we detail the mechanical design of the new
WAHRSIS models. They were designed to withstand the hot
and humid climate of Singapore and run for extended periods
of time without interruption or human intervention.

Two strategies were implemented. The ﬁrst model is a
fully sealed imager with a Peltier cooler to control the inter-
nal temperature. The second model has a double roof, which

Send correspondence to Y.H. Lee, E-mail: eyhlee@ntu.edu.sg.
1 http://www.yesinc.com/

2The source code for the several simulations in this paper is available

online at https://github.com/Soumyabrata/HDRCaptures.

isolates the casing from direct sunlight. It also features ven-
tilating grids, allowing the outside air to ﬂow through the de-
vice. The compact size of both models minimizes the volume
of air to control and also enhances their portability. The trans-
formers and power strip are placed outside the main device in
another polystyrene box as they are less sensitive to high tem-
peratures and also generate heat themselves.

The total component cost of our new WAHRSIS models

is less than US$ 2000 each, as speciﬁed in Table 1.

Sealed model Ventilated model

Items
DSLR camera
Fish-eye lens
Single-board PC
Mechanical items
Peltier cooler
Miscellaneous
Total cost

677
733
68
212
65
140
$1895

677
733
68
221
-
70
$1769

Table 1: Breakdown of the costs of the sealed and ventilated
WAHRSIS models (in US$). The mechanical items consist
of the frame, box, screws etc., whereas miscellaneous items
include the extension power cord, the power adapter etc.

2.1. Sealed WAHRSIS Model

The sealed WAHRSIS model consists of a hermetically-
sealed plastic box with sunlight-reﬂecting paint on it, as
shown in Fig. 1. A thermoelectric Peltier cooler is placed at
the bottom of the casing. When electricity is provided, the
side facing inside the box gets cold while the outside face
gets hot. Fans are placed at both sides to dissipate the cold
or heat produced. The on-board computer controls the cooler
operation using temperature and humidity sensors.

(a)
(b)

(c)

(d)

(e)

Fig. 1: Sealed WAHRSIS design.
(a) DSLR camera, (b)
dome, (c) ODROID board, (d) casing, (e) thermoelectric
cooler with fans.

2.2. Ventilated WAHRSIS Model

The ventilated WAHRSIS model consists of a casing made of
galvanized steel, as shown in Fig. 2. This material reﬂects the
sun light well and prevents rusting and corrosion. Ventilation

grids are placed on each side, allowing ambient air to ﬂow
inside while preventing rainwater from entering. A metallic
sheet is placed a few centimeters on top of the box, along with
the transparent dome for the camera lens. The air in between
acts as insulator, which protects the case from being heated
by direct sunlight.

(a)
(b)

(c)

(d)

Fig. 2: Ventilated WAHRSIS design. (a) Dome, (b) shelter,
(c) air vent cover, (d) casing.

3. TEMPERATURE CONTROL

Singapore has a typical tropical climate, i.e. hot and humid
conditions throughout the year, with average low/high tem-
peratures of 25◦C/33◦C, respectively. A box placed outside
in the sun tends to heat up quickly, so we need to make sure
the maximum operating temperature of the camera, lens, and
the other electronic components of 40◦C is not exceeded.

For the sealed box, we set two distinct thresholds for the
operation of the Peltier cooler: we switch it on when the in-
side temperature reaches 37◦C, and off again when it falls
below 32◦C.

Fig. 3: Temperature recorded over the course of a day inside
both models.

In order to investigate the efﬁcacy of the two designs, both
WAHRSIS models were placed on a rooftop at the Nanyang
Technological University of Singapore. We measured the
temperature inside the devices on a typical day in March
2015 with several hours of sunshine. Fig. 3 shows the results.
In both models, the temperature never exceeds 40◦C. Dur-
ing daytime, the interior temperature remains lower in the
sealed model than in the ventilated model because of its ac-
tive cooling. Temperature variations are also smoother in the
sealed box as a result of the controlled environment. Yet the
grids of the ventilated model are also surprisingly effective at
passive cooling. An important point is that we never noticed
condensation inside the boxes. We thus conclude that both
models can work well in tropical regions.

4. HIGH DYNAMIC RANGE IMAGING

The new WAHRSIS models presented here do not have a
physical sun blocking mechanism.
Instead, we use HDRI
techniques to reduce the over-exposure resulting from sun
glare. This avoids occlusions from the sun-blocker and its
support structure in the captured images (which signiﬁcantly
complicate subsequent computer vision tasks), while at the
same time keeping the number of saturated pixels in the cir-
cumsolar region to a minimum.

The imaging system of our WAHRSIS models consists of
a Canon EOS 600D digital SLR camera with a sensor res-
olution of 5184 × 3456 pixels and a Sigma 4.5mm F2.8 EX
DC circular ﬁsheye lens that captures nearly 180 degrees of
the sky hemisphere. Both imagers use an ODROID-C1 single
board computer; with its 1.5 GHz processor and 1 GB RAM,
this board is powerful enough to perform on-board image pro-
cessing tasks.

too bright, so we choose {−3, −1, +1} exposure value (EV)
offsets for the bracketing. Fig. 4 shows three Low-Dynamic-
Range (LDR) images captured in this fashion.

Fig. 5: Response curve of the HDRI system, computed from
three LDR images with different exposure settings.

Subsequently, we use the algorithm by Debevec and Ma-
lik [11] to create a High-Dynamic-Range (HDR) radiance
map from the three LDR images. As their exposure times
are known, we can compute the camera response curve of the
imaging system using samples obtained from the different
LDR images. This is shown in Fig. 5. The dynamic range of
the resulting HDR radiance map is 15 bits, which represents
a signiﬁcant improvement over the 8-bit LDR images.

(a) −3 EV

(b) −1 EV

(c) +1 EV

(a) With sun blocker

(b) Auto exposure

(c) With HDR imaging

Fig. 4: Low-dynamic-range (LDR) images captured at differ-
ent exposure levels.

The camera offers an automatic exposure bracketing
(AEB) mode, which allows us to capture three (or more)
images in burst mode with different exposure settings. We
put the camera in aperture-priority mode to ﬁx the aperture
at the smallest available setting, and consequently the AEB
function will vary the shutter speed only. For sky images
we observed that the default exposure is usually somewhat

Fig. 6: Effect of sun glare with different strategies. The white
rectangle outlines the circumsolar region, which is enlarged
in the bottom row. Saturated pixels are shown in pink.

In order to visualize the HDR image, we convert the
high-dynamic-range radiance map to an LDR image via tone-
mapping using an adaptive equalization process. Fig. 6c
shows the resulting image, along with those obtained from
a sky imager with a mechanical sun blocker and a normal
single-exposure image. In order to visualize the efﬁcacy of
our proposed approach, we zoom in on the circumsolar region
in each of the three images to look at the amount of detail
visible around the sun. Although the sun-blocker is effective
at reducing sun glare, the occlusion is signiﬁcant. Without
a sun-blocker, the number of saturated pixels is very high in
a normal single-exposure image. Fusing multiple exposures
into an HDR image is indeed a good solution for minimizing
the effects of over-exposure.

5. CONCLUSIONS

We introduced two new models of WAHRSIS, low-cost whole
sky imagers built with off-the-shelf components. One fea-
tures a sealed casing with thermoelectric cooling, while the
other uses a ventilated casing. Measurements and extensive
outdoor testing have proven their ability to maintain temper-
atures at acceptable levels in the Singapore weather over pro-
longed periods.

Unlike our original WAHRSIS version [10] and commer-
cial sky imagers, neither of the two new models uses a me-
chanical sun blocker. Instead, they rely on the fusion of multi-
ple exposures to create a high-dynamic-range image and min-
imize over-saturation of pixels near the circumsolar region.
Table 2 summarizes the main improvements introduced by the
two new models over the ﬁrst.

WAHRSIS Properties

Glare reduction method

Occlusion severity
Weatherability
Portability
Image resolution
Total cost (in US$)

Previous
model

Sun
blocker
Moderate
Limited
Limited
High
$2525

Sealed
model

Ventilated
model

HDRI

Nil
Good
Good
High
$1895

HDRI

Nil
Good
Good
High
$1769

Table 2: Comparison of the different WAHRSIS models.

We are using the captured images for sky/cloud segmen-
tation and classiﬁcation into different cloud types [12], and
we are deploying multiple sky cameras in order to estimate
cloud base height [13]. Our future work includes extending
these methods to HDR images.

6. ACKNOWLEDGMENTS

Darko Jokic (Hochschule für Technik Rapperswil, Switzer-
land) designed and built the sealed WAHRSIS model during

his internship at NTU Singapore. Charles Wong (NTU Sin-
gapore) designed and built the ventilated WAHRSIS model as
part of his ﬁnal year project.

7. REFERENCES

[1] C.-L. Fua and H.-Y. Cheng, “Predicting solar irradiance with
all-sky image features via regression,” Solar Energy, vol. 97,
pp. 537–550, November 2013.

[2] F. Yuan, Y. H. Lee, and Y. S. Meng, “Comparison of cloud
models for propagation studies in Ka-band satellite applica-
in Proc. International Symposium on Antennas and
tions,”
Propagation (ISAP), 2014.

[3] D. D. Turner and R. E. Holz, “Retrieving cloud fraction in the
ﬁeld-of-view of a high-spectral resolution infrared radiometer,”
IEEE Geoscience and Remote Sensing Letters, vol. 2, no. 3, pp.
287–291, July 2005.

[4] A. B. Davis and A. Marshak, “Optical remote sensing of dense
isolated clouds with high-resolution satellite- and ground-
based imagers,” in Proc. IEEE International Geoscience and
Remote Sensing Symposium (IGARSS), 2002.

[5] S. Dev, Y. H. Lee, and S. Winkler, “Systematic study of color
spaces and components for the segmentation of sky/cloud im-
ages,” in Proc. IEEE International Conference on Image Pro-
cessing (ICIP), 2014.

[6] S. Dev, Y. H. Lee, and S. Winkler, “Multi-level semantic label-
ing of sky/cloud images,” in Proc. IEEE International Confer-
ence on Image Processing (ICIP), 2015.

[7] C. N. Long, J. M. Sabburg, J. Calbó, and D. Pages, “Retrieving
cloud characteristics from ground-based daytime color all-sky
images,” Journal of Atmospheric and Oceanic Technology, vol.
23, no. 5, pp. 633–652, 2006.

[8] J. Sabburg and J. Wong, “Evaluation of a ground-based sky
camera system for use in surface irradiance measurement,”
Journal of Atmospheric and Oceanic Technology, vol. 16, no.
6, pp. 752–759, June 1999.

[9] J. E. Shields, M. E. Karr, R. W. Johnson, and A. R. Burden,
“Day/night whole sky imagers for 24-h cloud and sky assess-
ment: History and overview,” Applied Optics, vol. 52, no. 8,
pp. 1605–1616, March 2013.

[10] S. Dev, F. Savoy, Y. H. Lee, and S. Winkler, “WAHRSIS: A
low-cost, high-resolution whole sky imager with near-infrared
capabilities,” in Proc. IS&T/SPIE Infrared Imaging Systems,
2014.

[11] P. E. Debevec and J. Malik, “Recovering high dynamic range
in Proc. 24th Annual
radiance maps from photographs,”
Conference on Computer Graphics and Interactive Techniques
(ACM SIGGRAPH), 1997.

[12] S. Dev, Y. H. Lee, and S. Winkler, “Categorization of cloud
image patches using an improved texton-based approach,” in
Proc. IEEE International Conference on Image Processing
(ICIP), 2015.

[13] F. M. Savoy, J. C. Lemaitre, S. Dev, Y. H. Lee, and S. Winkler,
“Cloud base height estimation using high-resolution whole sky
imagers,” in Proc. IEEE International Geoscience and Remote
Sensing Symposium (IGARSS), 2015.

